// ... yuqoridagi config qismi o'sha-o'sha qoladi ...

const database = firebase.database();

// Ulanish holatini tekshirish
database.ref(".info/connected").on("value", (snap) => {
    if (snap.val() === true) {
        console.log("Admin Panel: Serverga ulandi!");
    } else {
        console.log("Admin Panel: Ulanishda muammo!");
    }
});

// Ma'lumotlarni olish
database.ref('chaqiruvlar/').on('value', (snapshot) => {
    console.log("Ma'lumot keldi:", snapshot.val()); // Konsolga chiqarib ko'ramiz
    const display = document.getElementById('display');
    const data = snapshot.val();
    
    if (data) {
        display.innerHTML = "";
        Object.keys(data).forEach(key => {
            const item = data[key];
            display.innerHTML += `
                <div style="background:#333; padding:15px; margin-bottom:10px; border-left:5px solid red;">
                    <h3>${item.turi}</h3>
                    <p>Vaqt: ${item.vaqt}</p>
                    <button onclick="deleteX('${key}')" style="background:red; color:white; border:none; padding:5px 10px;">O'chirish</button>
                </div>
            `;
        });
    } else {
        display.innerHTML = "Bazadan ma'lumot topilmadi (Baza bo'sh).";
    }
}, (error) => {
    alert("Ma'lumotni o'qishda xato: " + error.message);
});
